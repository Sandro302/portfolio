@startuml
skinparam {
    backgroundColor #FFFFFF
    ParticipantBorderColor #333333
    ParticipantBackgroundColor #E8F4F8
    ArrowColor #333333
    fontSize 12
}

title Import OLGA Project Process

actor Engineer
participant "Calculation System\n(UI + API)" as CalcSys
participant "Import Service" as ImportSvc
database "Database\n(PostgreSQL)" as DB
participant "OLGA Files\n(Storage)" as Storage

Engineer -> CalcSys : Select "Import OLGA Project"
Engineer -> CalcSys : Show file selection dialog
Engineer -> CalcSys : Choose OLGA project files
Activate CalcSys

CalcSys -> ImportSvc : Upload files + metadata\n(name, description)
Activate ImportSvc

ImportSvc -> ImportSvc : Parse entities\n(nodes, pipes, profiles)
ImportSvc -> ImportSvc : Validate structure/version
ImportSvc -> ImportSvc : Write import log\n(status, message, timestamp)

ImportSvc -> Storage : Read OLGA files\n(validate structure/version)
Activate Storage
Storage --> ImportSvc : Read complete
Deactivate Storage

ImportSvc -> DB : Save project and\ntopology data
Activate DB
DB --> ImportSvc : Save complete
Deactivate DB

ImportSvc -> Storage : Save parsed data
ImportSvc --> CalcSys : Import result\n(success / warnings / errors)
Deactivate ImportSvc

CalcSys --> Engineer : Show import status\nlist of warnings/errors
Deactivate CalcSys

@enduml
